//
// Copyright IBM Corp. 2019, 2023
//
// This source code is licensed under the Apache-2.0 license found in the
// LICENSE file in the root directory of this source tree.
//

$css--plex: true !default;

@use '@carbon/styles/scss/config' as *;
@use '@carbon/styles/scss/spacing' as *;
@use '@carbon/styles/scss/type' as *;
@use '@carbon/styles/scss/utilities/convert' as *;
@use '@carbon/styles/scss/components/accordion';

:host(#{$prefix}-accordion),
:host(#{$prefix}-accordion-skeleton) {
  @extend .#{$prefix}--accordion;
}

:host(#{$prefix}-accordion-item),
:host(#{$prefix}-accordion-item-skeleton) {
  @extend .#{$prefix}--accordion__item;

  display: block;
  outline: none;

  .#{$prefix}--accordion__heading {
    padding-top: calc(
      (#{$spacing-08} - #{map-get($body-long-01, 'line-height')}rem) / 2
    );
    min-height: $spacing-08;
  }

  .#{$prefix}--accordion__content {
    @extend .#{$prefix}--accordion__content;

    ::slotted(p) {
      @include type-style('body-01');

      margin: 0;
    }
  }

  &[size='sm'] {
    @extend .#{$prefix}--accordion--sm;
  }

  &[size='lg'] {
    @extend .#{$prefix}--accordion--lg;
  }

  &[alignment='start'] {
    @extend .#{$prefix}--accordion--start;
  }

  &[isFlush] {
    @extend .#{$prefix}--accordion--flush;
  }
}

:host(#{$prefix}-accordion-item[open]:not([disabled])) {
  @extend .#{$prefix}--accordion__item--active;

  .#{$prefix}--accordion__content {
    padding-right: $spacing-05;
  }

  .#{$prefix}-ce--accordion__content--sm {
    padding-right: $spacing-09;
  }

  .#{$prefix}-ce--accordion__content--md {
    padding-right: 25%;
  }
}

:host(#{$prefix}-accordion-skeleton),
:host(#{$prefix}-accordion-item-skeleton) {
  .#{$prefix}--accordion__heading {
    cursor: default;
    &:hover::before {
      background: transparent;
    }
  }
}
