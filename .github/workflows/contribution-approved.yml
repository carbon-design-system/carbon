# This workflow uses actions that are not certified by GitHub.
# They are provided by a third-party and are governed by
# separate terms of service, privacy policy, and support
# documentation.

# GitHub recommends pinning actions to a commit SHA.
# To get a newer version, you will need to update the SHA.
# You can also reference a tag or branch, but the action may change without warning
name: Add comment on enhancement issue
on:
  issues:
    types: [labeled, opened]

permissions:
      issues: write

jobs:
  add-comment:
    name: Add comment to with proposal accepted and community contribution
    runs-on: ubuntu-latest
    steps:
      - name: Add comment
        if: 
          ${{ contains(github.event.issue.labels.*.name,
          format('proposal{0} accepted', ':')) ||
          contains(github.event.issue.labels.*.name, format('community contribution'))}}
        uses: actions/github-script@d7906e4ad0b1822421a7e6a35d5ca353c962f410 #v6.4.1
        with:
          script: |
            github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: 'The Carbon team has accepted this proposal! Our team doesnâ€™t have the cycles to work on this now, so we are requesting community contributors. Please see the labels for roles that are needed. If you are willing to help out, comment below and we will get in touch!'
            })