//
// Copyright IBM Corp. 2018, 2018
//
// This source code is licensed under the Apache-2.0 license found in the
// LICENSE file in the root directory of this source tree.
//

@import '@carbon/layout/scss/convert';

/// Compute the type size for the given type scale step
/// @param {Number} $step
/// @return {Number} In px
/// @access public
/// @group @carbon/type
@function carbon--get-type-size($step) {
  @if $step == 1 {
    @return 12px;
  }
  // Yn = Yn-1 + {INT[(n-2)/4] + 1} * 2
  @return carbon--get-type-size($step - 1) + (floor(($step - 2) * 0.25) + 1) * 2;
}

/// Type scale follows a custom formula for determining each step size and supports sizes from 12px to 92px
/// @type Map
/// @access public
/// @group @carbon/type
/* 
  12px = carbon--type-scale(1)
  14px = carbon--type-scale(2)
  16px = carbon--type-scale(3)
  18px = carbon--type-scale(4)
  20px = carbon--type-scale(5)
  24px = carbon--type-scale(6)
  28px = carbon--type-scale(7)
  32px = carbon--type-scale(8)
  36px = carbon--type-scale(9)
  42px = carbon--type-scale(10)
  48px = carbon--type-scale(11)
  54px = carbon--type-scale(12)
  60px = carbon--type-scale(13)
  68px = carbon--type-scale(14)
  76px = carbon--type-scale(15)
  84px = carbon--type-scale(16)
  92px = carbon--type-scale(17)
  102px = carbon--type-scale(18)
  112px = carbon--type-scale(19)
  122px = carbon--type-scale(20)
  132px = carbon--type-scale(21)
  144px = carbon--type-scale(22)
  156px = carbon--type-scale(23)
*/
$carbon--type-scale: ();
@for $i from 1 through 23 {
  $carbon--type-scale: append(
    $carbon--type-scale,
    carbon--rem(carbon--get-type-size($i))
  );
}

/// Get the value of a specific step in the type scale
/// @param {Number} $step
/// @return {Number} In rem
/// @access public
/// @group @carbon/type
@function carbon--type-scale($step) {
  @return nth($carbon--type-scale, $step);
}

/// Set the font-size value of a selector with the value at the given `$step`
/// @param {Number} $step
/// @access public
/// @group @carbon/type
@mixin carbon--type-scale($step) {
  font-size: carbon--type-scale($step);
}

/// Alias of `type-scale` mixin.
/// @param {Number} $step
/// @alias carbon--type-scale
/// @access public
/// @group @carbon/type
@mixin carbon--font-size($step) {
  font-size: carbon--type-scale($step);
}
