@use 'sass:map';

@use '@carbon/styles/scss/colors';
@use '@carbon/styles/scss/theme';
@use '@carbon/styles/scss/spacing';
@use '@carbon/styles/scss/type';
@use '@carbon/styles/scss/components/tag';

@use '../prefix' as *;

$types: (
  'deprecation-notice': (
    border: colors.$red-50,
    background: tag.$tag-background-red,
    color: tag.$tag-color-red,
  ),
  'layer': (
    border: colors.$purple-50,
    background: tag.$tag-background-purple,
    color: tag.$tag-color-purple,
  ),
  'feature-flags': (
    border: colors.$teal-50,
    background: tag.$tag-background-teal,
    color: tag.$tag-color-teal,
  ),
);

.#{$prefix}--annotation {
  position: relative;
  border: 1px dashed transparent;
}

.#{$prefix}--annotation .#{$prefix}--annotation {
  margin-block-start: spacing.$spacing-07;
}

.#{$prefix}--annotation__content > .#{$prefix}--annotation:first-child {
  margin-block-start: 0;
}

.#{$prefix}--annotation__label {
  @include type.type-style('code-01');

  display: inline-flex;
  padding: spacing.$spacing-02;
  column-gap: spacing.$spacing-02;
}

.#{$prefix}--annotation__label a {
  color: inherit;
  text-decoration: underline;
}

.#{$prefix}--annotation__content {
  padding: spacing.$spacing-05;
}

@each $type, $colors in $types {
  $border: map.get($colors, 'border');
  $background: map.get($colors, 'background');
  $color: map.get($colors, 'color');

  .#{$prefix}--annotation--#{$type} {
    border-color: $border;
  }

  .#{$prefix}--annotation--#{$type} > .#{$prefix}--annotation__label {
    background-color: $background;
    color: $color;
  }
}
